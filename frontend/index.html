<html>
<head>
    <title>COSC3000 Assignment 2</title>
</head>

<body style="margin: 0; height: 100%; width: 100%;">

<div id="container"></div>
<script type="application/javascript" src="js/min/jquery.min.js"></script>
<script type="application/javascript" src="js/min/three.min.js"></script>
<script>
    var sphere;
    $("document").ready(main);

    function move(object){
        var x = Math.random() * 2 - 1;
        var y = Math.random() * 2 - 1;
        var z = Math.random() * 2 - 1;
        if (x > 0 || object.position.x < -100) {
            object.position.x += 1
        } else if (x < 0 || object.position.x > 100) {
            object.position.x -= 1
        }
        if (y > 0 || object.position.y < -100) {
            object.position.y += 1
        } else if (y < 0 || object.position.y > 100) {
            object.position.y -= 1
        }
        if (z > 0 || object.position.z < -400) {
            object.position.z += 1
        } else if (z < 0 || object.position.z > -300) {
            object.position.z -= 1
        }
    }

    function main() {
        // Set the scene size.
        var dimensions = document.body.getBoundingClientRect();
        const WIDTH = dimensions.width;
        const HEIGHT = dimensions.height;

        // Set some camera attributes.
        const VIEW_ANGLE = 45;
        const ASPECT = WIDTH / HEIGHT;
        const NEAR = 0.1;
        const FAR = 10000;

        // Get the DOM element to attach to
        const container = document.querySelector('#container');

        // Create a WebGL renderer, camera
        // and a scene
        const renderer = new THREE.WebGLRenderer();
        const camera = new THREE.PerspectiveCamera(
            VIEW_ANGLE,
            ASPECT,
            NEAR,
            FAR
        );

        const scene = new THREE.Scene();

        // Add the camera to the scene.
        scene.add(camera);

        // Start the renderer.
        renderer.setSize(WIDTH, HEIGHT);

        // Attach the renderer-supplied
        // DOM element.
        container.appendChild(renderer.domElement);

        // ------------------------------------------------------
        // Set up the sphere vars
        const RADIUS = 50;
        const SEGMENTS = 16;
        const RINGS = 16;

        // Create a new mesh with
        // sphere geometry - we will cover
        // the sphereMaterial next!
        // create the sphere's material
        const sphereMaterial = new THREE.MeshLambertMaterial({
            color: 0xCC0000
        });

        sphere = new THREE.Mesh(
            new THREE.SphereGeometry(
                RADIUS,
                SEGMENTS,
                RINGS
            ),
            sphereMaterial
        );

        // Move the Sphere back in Z so we
        // can see it.
        sphere.position.z = -300;

        // Finally, add the sphere to the scene.
        scene.add(sphere);

        // create a point light
        const pointLight = new THREE.PointLight(0xFFFFFF);

        // set its position
        pointLight.position.x = 10;
        pointLight.position.y = 50;
        pointLight.position.z = 130;

        // add to the scene
        scene.add(pointLight);

        function update() {
            // Draw!
            move(sphere);
            renderer.render(scene, camera);

            // Schedule the next frame.
            requestAnimationFrame(update);
        }

        // Schedule the first frame.
        requestAnimationFrame(update);
    }
</script>
</body>

</html>